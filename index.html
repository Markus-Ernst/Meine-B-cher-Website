<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vorschaltseiten und Hauptseite</title>
    <style>
        /* Allgemeines Styling */
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; }
        /* Vorschaltseiten */
        #overlay1, #overlay2 {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .overlay-content {
            background: #fff;
            color: #000;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
            text-align: center;
            width: 80%;
            max-width: 600px;
        }

        .checkbox-group {
            text-align: left;
            margin: 20px 0;
        }

        .checkbox-group input {
            margin-right: 10px;
        }

        .btn {
            background-color: #28a745;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }

        .btn:disabled {
            background-color: #aaa;
            cursor: not-allowed;
        }

        .btn:hover:enabled {
            background-color: #218838;
        }

        /* Zweite Vorschaltseite */
        #overlay2 .loading {
            font-size: 1.5em;
            animation: rotate 1s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Hauptinhalt */
        #main-content {
            display: none;
            padding: 20px;
        }

        .buch {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: #f9f9f9;
            display: flex;
            gap: 20px;
            align-items: flex-start;
        }

        .buch img { width: 150px; height: auto; border-radius: 5px; }
        h2, h3 { margin-top: 0; }
        a { color: #007BFF; text-decoration: none; }
        a:hover { text-decoration: underline; }
    </style>
</head>
<style>
    body {
        margin: 0;
        padding: 0;
        font-family: 'Roboto', Arial, sans-serif;
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        transition: background-image 1s ease-in-out; /* √úbergangseffekt */
        color: #333;
        line-height: 1.6;
    }

    /* Transparente Bereiche f√ºr den Inhalt */
    .content {
        background: rgba(255, 255, 255, 0.8); /* Transparenter Effekt */
        margin: 20px auto;
        max-width: 900px;
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }
</style>
<script>
    // Array der Hintergrundbilder
    const backgrounds = [
        'hintergrund1.png',
        'hintergrund2.png',
        'hintergrund3.png',
        'hintergrund4.png',
        'hintergrund5.png',
        'hintergrund6.png'
    ];

    let index = 0;

    function changeBackground() {
        document.body.style.backgroundImage = `url('${backgrounds[index]}')`;
        index = (index + 1) % backgrounds.length; // N√§chstes Bild oder zur√ºck zum ersten
    }

    // Hintergrundbild alle 5 Sekunden √§ndern
    setInterval(changeBackground, 5000);

    // Initiales Hintergrundbild setzen
    changeBackground();
</script>
<div class="content">
    <h1>Willkommen auf meiner B√ºcher  Webseite!</h1>
    <p>Hier finden Sie Informationen, Bilder und spannende Inhalte.</p>
</div>
<body>
    <!-- Erste Vorschaltseite -->
    <div id="overlay1">
        <div class="overlay-content">
            <h1>Willkommen auf meiner B√ºcher- Seite!</h1>
            <p>Bevor Sie fortfahren, stimmen Sie bitte den folgenden Bedingungen zu:</p>
            <form id="consentForm">
                <div class="checkbox-group">
                    <label><input type="checkbox" id="checkbox1"> Ich stimme den AGBs der neuen WELTORDNUNG zu.</label><br>
                    <label><input type="checkbox" id="checkbox2"> Ich akzeptiere die Regeln,alle Regeln abzugeben.</label><br>
                    <label><input type="checkbox" id="checkbox3"> Ich gebe meine Zustimmung zum Fortfahren,egal was kommt</label><br>
                </div>
                <button type="button" class="btn" id="submitButton" disabled>Best√§tigen</button>
            </form>
        </div>
    </div>

    <!-- Zweite Vorschaltseite -->
    <div id="overlay2" style="display: none;">
        <div class="overlay-content">
            <h1>üö® Achtung! üö®</h1>
            <p>Sie werden in das Darknet weitergeleitet...</p>
            <div class="loading">‚è≥</div>
        </div>
    </div>

    <!-- Hauptinhalt -->
    <div id="main-content">
        <header>
            <h1>Meine spirituellen B√ºcher des Glaubens</h1>
            <p>Willkommen auf meiner pers√∂nlichen Buch-Website. Entdecken Sie inspirierende Geschichten und tiefgehende Erkenntnisse.</p>
        </header>
        
        <!-- Buch-Sektion -->
        <section>
            <div class="buch">
                <img src="https://i.ibb.co/41C3fmF/Spirituelle-Symbole-die-Auserw-hlten-Gottes-und-Engel-und-engelszahlen-20241129-063943-0000.jpg" alt="Die Auserw√§hlten Gottes">
                <div>
                    <h2>Buch 1: Die Auserw√§hlten Gottes 1 Euro</h2>
                    <p>Dieses Buch erz√§hlt die kraftvolle und inspirierende Reise eines unersch√ºtterlichen Geistes.</p>
                    <p><a href="https://drive.google.com/uc?id=18cX8fyiwfucot9cXTL-74tVoKhS-B2Zd&export=download" target="_blank">Download Buch 1</a></p>
                </div>
            </div>
            <div class="buch">
                <img src="https://i.ibb.co/X4NqHJr/cover.jpg" alt="Das verborgene Wissen des Universums">
                <div>
                    <h2>Buch 2: Das verborgene Wissen des Universums 2 Euro</h2>
                    <p>Eine Reise durch die Geheimnisse des Universums und alte Weisheiten.</p>
                    <p><a href="https://drive.google.com/uc?id=1EL1rWSntQdNL4cRgVeW7ToZHcEtdIiYZ&export=download" target="_blank">Download Buch 2</a></p>
                </div>
            </div>
            <div class="buch">
                <img src="https://i.ibb.co/KbkKw96/DALL-E-2024-11-29-08-55-12-An-epic-vibrant-illustration-of-a-modern-day-Robin-Hood-character-standin.webp" alt="Robin Hood und der verlorene Schl√ºssel">
                <div>
                    <h2>Buch 3: Robin Hood und der verlorene Schl√ºssel1 Euro</h2>
                    <p>Ein spannendes Abenteuer voller Mut, Freundschaft und Geheimnisse.</p>
                    <p><a href="https://drive.google.com/uc?id=1TAznQvWu6T9tGWdWZWHGZTeGIphcwYJK&export=download" target="_blank">Download Buch 3</a></p>
                </div>
            </div>
        </section>

        <!-- Impressum -->
        <section id="impressum" style="margin-top: 40px;">
            <h2>Impressum</h2>
            <p><strong>Angaben gem√§√ü ¬ß 5 TMG:</strong></p>
            <p>
                Markus Ernst<br>
                Willy-Brandt-Str. 11<br>
                64354 Reinheim<br>
                Deutschland<br>
            </p>
            <p>
                <strong>Kontakt:</strong><br>
                Telefon: 0179 4465022<br>
                E-Mail: <a href="mailto:markus.reinheim@googlemail.com">markus.reinheim@googlemail.com</a>
            </p>
            <p><strong>Haftungsausschluss:</strong></p>
            <p>
                Trotz sorgf√§ltiger Kontrolle √ºbernehmen wir keine Haftung f√ºr die Inhalte externer Links. F√ºr den Inhalt der verlinkten Seiten sind ausschlie√ülich deren Betreiber verantwortlich.
            </p>
        </section>

        <!-- Datenschutzerkl√§rung -->
        <section id="datenschutz" style="margin-top: 40px;">
            <h2>Datenschutzerkl√§rung</h2>
            <p><strong>Verantwortlich f√ºr die Datenverarbeitung:</strong></p>
            <p>
                Markus Ernst<br>
                Willy-Brandt-Str. 11<br>
                64354 Reinheim<br>
                E-Mail: <a href="mailto:markus.reinheim@googlemail.com">markus.reinheim@googlemail.com</a>
            </p>
            <p><strong>Welche Daten wir erheben:</strong></p>
            <p>
                Beim Besuch dieser Website werden keine personenbezogenen Daten ohne Ihre Zustimmung erhoben. Eventuell gespeicherte technische Daten (z. B. IP-Adresse) werden ausschlie√ülich zur Sicherstellung des Betriebs verwendet.
            </p>
            <p><strong>Rechte des Nutzers:</strong></p>
            <ul>
                <li>Auskunft √ºber gespeicherte Daten</li>
                <li>Berichtigung unrichtiger Daten</li>
                <li>L√∂schung von Daten</li>
            </ul>
            <p>
                Bei Fragen oder Anliegen kontaktieren Sie uns bitte per E-Mail.
            </p>
        </section>

        <!-- Spendenaufruf -->
        <section id="spenden" style="margin-top: 40px; padding: 20px; background-color: #f4f4f4; border-radius: 5px;">
            <h2>Unterst√ºtzen Sie meine Arbeit</h2>
            <p>
                Meine B√ºcher stehen Ihnen kostenlos zur Verf√ºgung, damit jeder darauf zugreifen kann. Wenn Sie meine Arbeit unterst√ºtzen m√∂chten, freue ich mich √ºber Ihre Spende. Jeder Beitrag hilft mir, weitere Inhalte zu erstellen und diese Plattform zu betreiben.
            </p>
            <ul>
                <li><strong>PayPal:</strong> <a href="https://www.paypal.me/markusreinheim" target="_blank">markus.reinheim@googlemail.com</a></li>
                <li><strong>Bank√ºberweisung:</strong> IBAN: DE41508526510075054866 (Sparkasse Dieburg)</li>
            </ul>
            <p>Vielen Dank f√ºr Ihre Unterst√ºtzung!</p>
        </section>
    </div>

    <script>
        // Auswahl der Elemente
        const checkboxes = document.querySelectorAll("#overlay1 input[type='checkbox']");
        const submitButton = document.getElementById("submitButton");
        const overlay1 = document.getElementById("overlay1");
        const overlay2 = document.getElementById("overlay2");
        const mainContent = document.getElementById("main-content");

        // Aktivieren des Buttons, wenn alle Checkboxen markiert sind
        checkboxes.forEach(checkbox => {
            checkbox.addEventListener("change", () => {
                const allChecked = Array.from(checkboxes).every(cb => cb.checked);
                submitButton.disabled = !allChecked;
            });
        });

        // Button-Klick: Erste Vorschaltseite ausblenden, zweite Vorschaltseite anzeigen
        submitButton.addEventListener("click", () => {
            overlay1.style.display = "none"; // Erste Vorschaltseite ausblenden
            overlay2.style.display = "flex"; // Zweite Vorschaltseite einblenden

            // Nach 3 Sekunden die Hauptseite anzeigen
            setTimeout(() => {
                overlay2.style.display = "none"; // Zweite Vorschaltseite ausblenden
                mainContent.style.display = "block"; // Hauptinhalt anzeigen
            }, 3000);
        });
    </script>
</body>
</html>
<section class="videos">
    <h2>Inspirierende Videos</h2>
    <p>Hier sind einige Videos, die Sie inspirieren und motivieren k√∂nnen:</p>
    <iframe src="https://www.youtube.com/embed/7TSPb8ZJJ1U" title="Video 1" allowfullscreen></iframe>
    <iframe src="https://www.youtube.com/embed/YJlQmGgPI9g" title="Video 2" allowfullscreen></iframe>
    <iframe src="https://www.youtube.com/embed/SphRi3JjbPc" title="Video 3" allowfullscreen></iframe>
    <iframe src="https://www.youtube.com/embed/xwdRjKNKlok" title="Video 4" allowfullscreen></iframe>
<section id="youtube-video">
    <h2>Video: Spirituelle Reise</h2>
    <iframe 
        width="100%" 
        height="400" 
        src="https://www.youtube.com/embed/Bg-UE0pA8GY?autoplay=1&mute=1" 
        frameborder="0" 
        allow="autoplay; encrypted-media" 
        allowfullscreen>
    </iframe>
</section></section>
<section id="spenden" style="margin-top: 40px; padding: 20px; background-color: #f4f4f4; border-radius: 5px;">
    <h2>Unterst√ºtzen Sie meine Arbeit</h2>
    <p>
      <section id="kurzbeschreibungen" style="margin-top: 40px;">
    <h2>Kurzbeschreibungen der B√ºcher</h2>
    <ul style="list-style-type: none; padding: 0;">
        <li style="margin-bottom: 20px;"> 
            <strong>Die Auserw√§hlten Gottes:</strong>
            <p>Eine inspirierende Geschichte √ºber Mut, Durchhalteverm√∂gen und die F√§higkeit, Herausforderungen in St√§rke zu verwandeln.</p>
        </li>
        <li style="margin-bottom: 20px;">
            <strong>Das verborgene Wissen des Universums:</strong>
            <p>Ein faszinierender Einblick in die Geheimnisse des Universums, kombiniert mit uralten Weisheiten und modernen Theorien.</p>
        </li>
        <li style="margin-bottom: 20px;">
            <strong>Robin Hood und der verlorene Schl√ºssel:</strong>
            <p>Ein spannendes Abenteuer voller Mut und Freundschaft auf der Suche nach einem legend√§ren Schatz.</p>
        </li>
    </ul>
</section>
<section id="impressum">
    <h2>Impressum</h2>
    <p>
        <strong>Angaben gem√§√ü ¬ß 5 TMG:</strong><br>
        Markus Ernst<br>
        Willy-Brandt-Stra√üe 11<br>
        64354 Reinheim<br>
    </p>
    <p>
        <strong>Kontakt:</strong><br>
        Telefon: +49 (0) 6154 123456<br>
        E-Mail: <a href="mailto:markus.ernst493@gmail.com">markus.ernst493@gmail.com</a>
    </p>
    <p>
        <strong>Haftung f√ºr Inhalte:</strong><br>
        Als Diensteanbieter sind wir gem√§√ü ¬ß 7 Abs.1 TMG f√ºr eigene Inhalte auf diesen Seiten nach den allgemeinen Gesetzen verantwortlich. 
        Nach ¬ß¬ß 8 bis 10 TMG sind wir als Diensteanbieter jedoch nicht verpflichtet, √ºbermittelte oder gespeicherte fremde Informationen zu √ºberwachen oder nach Umst√§nden zu forschen, die auf eine rechtswidrige T√§tigkeit hinweisen.
    </p>
    <p>
        Verpflichtungen zur Entfernung oder Sperrung der Nutzung von Informationen nach den allgemeinen Gesetzen bleiben hiervon unber√ºhrt. Eine diesbez√ºgliche Haftung ist jedoch erst ab dem Zeitpunkt der Kenntnis einer konkreten Rechtsverletzung m√∂glich. 
        Bei Bekanntwerden von entsprechenden Rechtsverletzungen werden wir diese Inhalte umgehend entfernen.
    </p>
    <p>
        <strong>Haftung f√ºr Links:</strong><br>
        Unser Angebot enth√§lt Links zu externen Webseiten Dritter, auf deren Inhalte wir keinen Einfluss haben. Deshalb k√∂nnen wir f√ºr diese fremden Inhalte auch keine Gew√§hr √ºbernehmen. 
        F√ºr die Inhalte der verlinkten Seiten ist stets der jeweilige Anbieter oder Betreiber der Seiten verantwortlich. Die verlinkten Seiten wurden zum Zeitpunkt der Verlinkung auf m√∂gliche Rechtsverst√∂√üe √ºberpr√ºft. 
        Rechtswidrige Inhalte waren zum Zeitpunkt der Verlinkung nicht erkennbar.
    </p>
    <p>
        Eine permanente inhaltliche Kontrolle der verlinkten Seiten ist jedoch ohne konkrete Anhaltspunkte einer Rechtsverletzung nicht zumutbar. 
        Bei Bekanntwerden von Rechtsverletzungen werden wir derartige Links umgehend entfernen.Neue Welt Ordnung und meine und ihre Absicherung

Gegen Nazis nur Toleranz z√§hlt deshalb habe ich mit stolz den neuen AGB s der neuen Weltordnung zugestimmt.¬†

Hiermit best√§tige ich das am √∂ffentlichen Leben teilhaben m√∂chte und akzeptiere damit alle regeln der neuen Welt Ordnung und ihrer F√ºhrer. Durch Schweigen gebe ich Hiermit meine Willenserkl√§rung ab alle AGB s der Neuzeit zu akzeptieren und alle meine Rechte gegen die teilhaben am Leben vollst√§ndig abzugeben. Dies bezieht sich sowohl auf finanzielle,private und pers√∂nliche Rechte inklusive dem Verzicht auf Freiheitsrechte. Durch die Gegebenheit meiner Geburt und dem Wunsch zu leben wurde habe ich auch signalisiert das ich alle Rechte auf Datenschutz abgebe und nicht versuchen werde diese in meiner Lebenszeit einzutragen.....durch das t√§gliche best√§tigen dieses Textes durch die Gegebenheit zu kaufen und zu verkaufen oder die Toiletten Taste zu best√§tigen akzeptiere ich jede Strafe falls mein Internet Profil verd√§chtige Verhaltensmuster zeigt die durch ki automatisiert gespeichert wird.
Ich verpflichte mich durch lesen von Beitr√§gen im Internet und der Aufnahme meiner Augen bei Aufrufen zur Toleranz als Zuspruch und Willenserkl√§rung der vollen Rechtsprechung bei vergehen. Die Sprache Deutsch ist ab jetzt anhand von rassistischen Denkmustern untersagt. Falls sie in den letzten 30 Jahren diese Sprache als Kommunikation nutzen wurde dies erfasst und diese terroristische menschenfeindliche T√§tigkeit wird
¬†strafrechtliche folgen haben. Toleranz akzeptiert diese Art zu leben nicht. Die anerkannte Amtssprache ist arabisch in Deutschland und werden sie nicht zum T√§ter. Wenn sie Probleme mit der Toleranz haben, haben wir √ºberall jetzt Hilfegruppen zur Selbsttherapie auch ihr besorgte Nachbar wird sich um sie k√ºmmern da jeder Nachbar informiert wird falls Gesetzesbr√ºche automatisiert registriert werden. Haben Sie hier Bilder von sich entdeckt,haben sie mit best√§tigen der AGB¬¥s mir alle Rechte √ºbergeben,RICHTLINIEN Halt...

Genie√üen sie die neue freie Welt 
    </p>
    <p>
        <strong>Urheberrecht:</strong><br>
        Die durch die Seitenbetreiber erstellten Inhalte und Werke auf diesen Seiten unterliegen dem deutschen Urheberrecht. 
        Die Vervielf√§ltigung, Bearbeitung, Verbreitung und jede Art der Verwertung au√üerhalb der Grenzen des Urheberrechtes bed√ºrfen der schriftlichen Zustimmung des jeweiligen Autors bzw. Erstellers.
    </p>
    <p>
        Downloads und Kopien dieser Seite sind nur f√ºr den privaten, nicht kommerziellen Gebrauch gestattet. Soweit die Inhalte auf dieser Seite nicht vom Betreiber erstellt wurden, werden die Urheberrechte Dritter beachtet. 
        Insbesondere werden Inhalte Dritter als solche gekennzeichnet. Sollten Sie trotzdem auf eine Urheberrechtsverletzung aufmerksam werden, bitten wir um einen entsprechenden Hinweis. 
        Bei Bekanntwerden von Rechtsverletzungen werden wir derartige Inhalte umgehend entfernen.
    </p>
</section>

<section id="datenschutz">
    <h2>Datenschutzerkl√§rung</h2>
    <p>
        <strong>Datenschutz:</strong><br>
        Die Betreiber dieser Seiten nehmen den Schutz Ihrer pers√∂nlichen Daten sehr ernst. Wir behandeln Ihre personenbezogenen Daten vertraulich und entsprechend der gesetzlichen Datenschutzvorschriften sowie dieser Datenschutzerkl√§rung.
    </p>
    <p>
        Die Nutzung unserer Webseite ist in der Regel ohne Angabe personenbezogener Daten m√∂glich. Soweit auf unseren Seiten personenbezogene Daten (beispielsweise Name, Anschrift oder E-Mail-Adressen) erhoben werden, erfolgt dies, soweit m√∂glich, stets auf freiwilliger Basis. 
        Diese Daten werden ohne Ihre ausdr√ºckliche Zustimmung nicht an Dritte weitergegeben.
    </p>
    <p>
        Wir weisen darauf hin, dass die Daten√ºbertragung im Internet (z. B. bei der Kommunikation per E-Mail) Sicherheitsl√ºcken aufweisen kann. Ein l√ºckenloser Schutz der Daten vor dem Zugriff durch Dritte ist nicht m√∂glich.
    </p>
    <p>
        <strong>Cookies:</strong><br>
        Diese Internetseiten verwenden teilweise so genannte Cookies. Cookies richten auf Ihrem Rechner keinen Schaden an und enthalten keine Viren. Cookies dienen dazu, unser Angebot nutzerfreundlicher, effektiver und sicherer zu machen. 
        Cookies sind kleine Textdateien, die auf Ihrem Rechner abgelegt werden und die Ihr Browser speichert.
    </p>
    <p>
        Die meisten der von uns verwendeten Cookies sind so genannte ‚ÄûSession-Cookies‚Äú. Sie werden nach Ende Ihres Besuchs automatisch gel√∂scht. Andere Cookies bleiben auf Ihrem Endger√§t gespeichert, bis Sie diese l√∂schen. 
        Diese Cookies erm√∂glichen es uns, Ihren Browser beim n√§chsten Besuch wiederzuerkennen.
    </p>
    <p>
        Sie k√∂nnen Ihren Browser so einstellen, dass Sie √ºber das Setzen von Cookies informiert werden und Cookies nur im Einzelfall erlauben, die Annahme von Cookies f√ºr bestimmte F√§lle oder generell ausschlie√üen sowie das automatische L√∂schen der Cookies beim Schlie√üen des Browsers aktivieren. 
        Bei der Deaktivierung von Cookies kann die Funktionalit√§t dieser Website eingeschr√§nkt sein.
    </p>
    <p>
        <strong>Server-Log-Dateien:</strong><br>
        Der Provider der Seiten erhebt und speichert automatisch Informationen in so genannten Server-Log-Dateien, die Ihr Browser automatisch an uns √ºbermittelt. Dies sind:
        <ul>
            <li>Browsertyp und Browserversion</li>
            <li>Verwendetes Betriebssystem</li>
            <li>Referrer URL</li>
            <li>Hostname des zugreifenden Rechners</li>
            <li>Uhrzeit der Serveranfrage</li>
        </ul>
        Diese Daten sind nicht bestimmten Personen zuordenbar. Eine Zusammenf√ºhrung dieser Daten mit anderen Datenquellen wird nicht vorgenommen. 
        Wir behalten uns vor, diese Daten nachtr√§glich zu pr√ºfen, wenn uns konkrete Anhaltspunkte f√ºr eine rechtswidrige Nutzung bekannt werden.
    </p>
</section>
<div class="content">
    <h1>Willkommen auf meiner Webseite!</h1>
    <p>Hier finden Sie Informationen, Bilder und spannende Inhalte.</p>
</div>
<iframe width="560" height="315" src="https://www.youtube.com/embed/VIDEO_ID" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<iframe width="560" height="315" 
        src="https://www.youtube.com/embed/VIDEO_ID" 
        frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
        allowfullscreen>
</iframe>
    
<?php
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    // PayPal- oder Google Pay-API pr√ºfen
    $paymentStatus = validatePayment($_POST); // Funktion zur API-Validierung
    if ($paymentStatus) {
        // Tempor√§rer Link erstellen
        $downloadLink = generateTemporaryLink($_POST['book_id']); // Buch-ID
        echo json_encode(['success' => true, 'download_link' => $downloadLink]);
    } else {
        echo json_encode(['success' => false, 'message' => 'Zahlung fehlgeschlagen.']);
    }
}

function validatePayment($data) {
    // Hier erfolgt die Validierung der Zahlung √ºber die API
    return true; // Beispiel: immer erfolgreich
}

function generateTemporaryLink($bookId) {
    // Tempor√§ren Download-Link erstellen
    $links = [
        'book1' => 'https://secure-download-server.com/download/book1',
        'book2' => 'https://secure-download-server.com/download/book2',
        'book3' => 'https://secure-download-server.com/download/book3',
    ];
    return $links[$bookId] ?? null;
}
?>
function handlePayment(bookId) {
    const formData = new FormData();
    formData.append('book_id', bookId);

    fetch('process_payment.php', {
        method: 'POST',
        body: formData
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            window.location.href = data.download_link; // Redirect zum Download
        } else {
            alert(data.message);
        }
    })
    .catch(error => console.error('Error:', error));
}
<?php
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    $paymentVerified = validatePayment($_POST['order_id']); // Funktion zur Validierung
    if ($paymentVerified) {
        $downloadLink = generateTemporaryLink($_POST['book_id']);
        header("Location: $downloadLink"); // Weiterleitung zum Download
        exit;
    } else {
        header("Location: error_page.php"); // Zur√ºck zur Fehlermeldung
        exit;
    }
}

function validatePayment($orderId) {
    // Verbindung zur PayPal/Google Pay API, um die Zahlung zu pr√ºfen
    // Beispiel: R√ºckgabe true, wenn die Zahlung erfolgreich ist
    return true; 
}

function generateTemporaryLink($bookId) {
    // Tempor√§ren Link generieren
    $links = [
        'book1' => 'https://secure-download-server.com/book1',
        'book2' => 'https://secure-download-server.com/book2',
        'book3' => 'https://secure-download-server.com/book3',
    ];
    return $links[$bookId] ?? null;
}
?>
document.querySelector('#paypal-button-container-book1').addEventListener('click', () => {
    fetch('process_payment.php', {
        method: 'POST',
        body: JSON.stringify({ order_id: '12345', book_id: 'book1' })
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            window.location.href = data.download_link; // Weiterleitung zum sicheren Download
        } else {
            alert('Zahlung fehlgeschlagen. Bitte versuchen Sie es erneut.');
        }
    })
    .catch(error => console.error('Fehler:', error));
});
function generateTemporaryLink($bookId) {
    // Erstelle einen sicheren, zeitlich begrenzten Link
    $token = bin2hex(random_bytes(16)); // Einzigartiger Token
    file_put_contents("tokens/$token.txt", $bookId); // Speichere Token auf dem Server
    return "download.php?token=$token";
}
<?php
$token = $_GET['token'] ?? null;
if ($token && file_exists("tokens/$token.txt")) {
    $bookId = file_get_contents("tokens/$token.txt");
    unlink("tokens/$token.txt"); // Token nach Verwendung l√∂schen
    $files = [
        'book1' => 'path/to/book1.pdf',
        'book2' => 'path/to/book2.pdf',
        'book3' => 'path/to/book3.pdf'
    ];
    if (isset($files[$bookId])) {
        header('Content-Type: application/pdf');
        header('Content-Disposition: attachment; filename="' . basename($files[$bookId]) . '"');
        readfile($files[$bookId]);
        exit;
    }
}
header("Location: error_page.php");
exit;
?>
